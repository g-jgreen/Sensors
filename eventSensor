{
  "name": "eventSensor",
  "version": "0.0.2",
  "type": "sensor",
  "script": "var resource =  options.requiredProperties.resource || waylayUtil.getResource(options);\n\nvar runtimeParam = waylayUtil.getStreamData(options);\ntry {\n    if(runtimeParam !== undefined && options.requiredProperties.event !== undefined){\n        console.log(\"runtime data : \" + runtimeParam);\n        var state = \"No Event\";\n        if(runtimeParam.event !== undefined && runtimeParam.event == options.requiredProperties.event)\n            state = \"Event\";\n        send(null, {observedState : state, rawData: {streamData: runtimeParam}});\n    } else {\n        send(new Error(\"No runtime event, this sensor should only be triggered by reactive task or node\"));\n    }\n} catch(err){\n    send(new Error(err))\n}\n",
  "metadata": {
    "author": "Veselin",
    "category": "Dashboard",
    "description": "Event sensor.\n<br>\nInput param is the event name\n<br>\nexpected stream JSON object is in form \n<pre>\n{ \n  \"event\": \"eventName\"\n }\n </pre>\n \n where \"eventName\" must match the event input param.\n ",
    "documentationURL": "",
    "iconURL": "https://static.waylay.io/plugs/icons/green_flag.png",
    "supportedStates": [
      "Event",
      "No Event"
    ],
    "requiredProperties": [
      "resource",
      "event"
    ],
    "requiredRawData": [],
    "rawData": [
      {
        "parameter": "streamData",
        "dataType": "object"
      }
    ]
  }
}
